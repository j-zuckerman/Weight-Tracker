(this["webpackJsonpweight-tracker"]=this["webpackJsonpweight-tracker"]||[]).push([[0],{260:function(e,t,n){e.exports=n(483)},265:function(e,t,n){},483:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(14),c=n.n(o),i=(n(265),n(10)),l=n(529),u=n(54),s=n(47),d=n(16),h=n.n(d),m=n(36),g=n(30),f=n.n(g),p=n(530),b=n(523),v="https://cors-anywhere.herokuapp.com/https://sleepy-reaches-36047.herokuapp.com/api",E=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(""),l=Object(i.a)(c,2),d=l[0],g=l[1],E=Object(a.useState)(""),w=Object(i.a)(E,2),j=w[0],O=w[1],W=Object(a.useState)(""),k=Object(i.a)(W,2),y=k[0],S=k[1],x=Object(a.useState)(!1),C=Object(i.a)(x,2),D=C[0],A=C[1],T=function(){var e=Object(m.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),f.a.post(v+"/users/register",{username:n,password:d,goalWeight:j,startWeight:y}).then((function(e){o(""),g(""),O(""),S(""),A(!0)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return D?r.a.createElement(s.a,{to:"/login"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Create Account"),r.a.createElement("form",{onSubmit:T},r.a.createElement(p.a,{id:"username",placeholder:"Username",value:n,onChange:function(e){o(e.target.value)},fullWidth:!0}),r.a.createElement(p.a,{type:"password",id:"password",placeholder:"Password",value:d,onChange:function(e){g(e.target.value)},fullWidth:!0}),r.a.createElement(p.a,{placeholder:"Start Weight",value:y,onChange:function(e){S(e.target.value)},fullWidth:!0}),r.a.createElement(p.a,{placeholder:"Goal Weight",value:j,onChange:function(e){O(e.target.value)},fullWidth:!0}),r.a.createElement(b.a,{variant:"contained",color:"primary",type:"submit",m:5},"Register"),r.a.createElement(u.b,{to:"/login"},"Already have an account? Login here")))},w=function(e){var t=e.handleToken,n=e.setUserDetails,o=Object(a.useState)(""),c=Object(i.a)(o,2),l=c[0],d=c[1],g=Object(a.useState)(""),E=Object(i.a)(g,2),w=E[0],j=E[1],O=Object(a.useState)(!1),W=Object(i.a)(O,2),k=W[0],y=W[1],S=function(){var e=Object(m.a)(h.a.mark((function e(a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),f.a.post(v+"/users/login",{username:l,password:w}).then((function(e){t(e.data.token),n(e.data),d(""),j(""),y(!0)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return k?r.a.createElement(s.a,{to:"/weights"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:S},r.a.createElement(p.a,{id:"username",placeholder:"Username",value:l,onChange:function(e){d(e.target.value)},fullWidth:!0}),r.a.createElement(p.a,{type:"password",id:"password",placeholder:"Password",value:w,onChange:function(e){j(e.target.value)},fullWidth:!0}),r.a.createElement(b.a,{variant:"contained",color:"primary",type:"submit"},"Login"),r.a.createElement(u.b,{to:"/register"},"Need to register an account? Register here")))},j=(n(208),n(527)),O=n(522),W=n(531),k=n(528),y=n(484),S=n(524),x=n(532),C=n(525),D=n(100),A=n.n(D),T=n(37),U=n(38);function M(){var e=Object(T.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return M=function(){return e},e}U.a.div(M());var N=function(e){e.token,e.deleteWeight,e.editWeight;var t=e.weight,n=Object(a.useState)(t.weight_value),o=Object(i.a)(n,2);o[0],o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,null,r.a.createElement(x.a,{primary:t.weight_value+" lbs",secondary:A()(t.date).format("MMM Do")})),r.a.createElement(C.a,null))},L=n(81),P=function(e){var t=e.weights,n=[];return t.forEach((function(e){var t=A()(e.date).format("MMM Do");n.push({weight:e.weight_value,date:t})})),console.log(n),r.a.createElement(L.b,{width:500,height:300,data:n,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(L.d,{type:"number",domain:[100,300]}),r.a.createElement(L.c,{dataKey:"date"}),r.a.createElement(L.a,{type:"monotone",dataKey:"weight",stroke:"#0CCD98"}))};function R(){var e=Object(T.a)(["\n  height: 8px;\n  width: ",";\n\n  background: #0ccd98;\n  border-radius: 5px;\n"]);return R=function(){return e},e}var z=U.a.div(R(),(function(e){return e.width?e.width:0}));function B(){var e=Object(T.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return B=function(){return e},e}var _=U.a.div(B()),F=function(e){var t=e.currentWeight,n=e.userDetails;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(_,null,r.a.createElement("div",null,r.a.createElement("p",null,"Start Weight:"),r.a.createElement("h3",null,n.startWeight+" lbs"," ")),r.a.createElement("div",null,r.a.createElement("p",null,"Current Weight:"),r.a.createElement("h2",null,t+" lbs")),r.a.createElement("div",null,r.a.createElement("p",null,"Goal Weight: "),r.a.createElement("h3",null," ",n.goalWeight+" lbs"))),r.a.createElement(z,{width:(n.startWeight-t)/(n.startWeight-n.goalWeight)*100+"%"})))},G=n(526);function I(){var e=Object(T.a)(["\n  background-color: #0ccd98;\n  border-radius: 35px;\n  box-shadow: 0 4px 6px rgba(50, 50, 93, 0.11), 0 1px 3px rgba(0, 0, 0, 0.08);\n  padding: 7px 35px;\n"]);return I=function(){return e},e}function J(){var e=Object(T.a)(["\n  display: flex;\n  justify-content: center;\n"]);return J=function(){return e},e}var K=U.a.div(J()),$=Object(U.a)(G.a)(I()),q=n(221),H=n.n(q),Q=function(e){var t=e.token,n=e.addWeight,o=Object(a.useState)(0),c=Object(i.a)(o,2),l=c[0],u=c[1],s=Object(a.useState)(new Date),d=Object(i.a)(s,2),g=d[0],b=d[1],E=function(){var e=Object(m.a)(h.a.mark((function e(a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),f.a.post(v+"/weights",{weight:l,date:g},{headers:{Authorization:"bearer "+t}}).then((function(e){console.log(e),n(e.data)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(H.a,{onChange:function(e){b(e),console.log(e)},value:g}),r.a.createElement("form",{onSubmit:E},r.a.createElement(p.a,{onChange:function(e){u(e.target.value)},value:l}),r.a.createElement(K,null,r.a.createElement($,{variant:"extended",size:"medium",color:"primary",type:"submit"},"Save Weight"))))},V=Object(j.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),X=function(e){var t=e.token,n=e.userDetails,o=Object(a.useState)(0),c=Object(i.a)(o,2),l=c[0],u=c[1],s=Object(a.useState)([]),d=Object(i.a)(s,2),h=d[0],m=d[1],g=Object(a.useState)(!1),p=Object(i.a)(g,2),b=p[0],E=p[1],w=V();return Object(a.useEffect)((function(){console.log(t),f.a.get(v+"/weights",{headers:{Authorization:"bearer "+t}}).then((function(e){console.log(e),m(h.concat(e.data)),u(e.data[e.data.length-1].weight_value)})).catch((function(e){console.log(e)}))}),[]),r.a.createElement("div",null,r.a.createElement(P,{weights:h,currentWeight:l}),r.a.createElement(F,{userDetails:n,currentWeight:l}),r.a.createElement(O.a,null,h.map((function(e){return r.a.createElement(N,{weight:e,token:t})}))),r.a.createElement(K,null,r.a.createElement($,{onClick:function(){E(!0)},variant:"extended",size:"medium",color:"primary","aria-label":"add"},"New Weight")),r.a.createElement(W.a,{className:w.modal,open:b,onClose:function(){E(!1)},closeAfterTransition:!0,BackdropComponent:k.a,BackdropProps:{timeout:500}},r.a.createElement(y.a,{in:b},r.a.createElement("div",{className:w.paper},r.a.createElement(Q,{token:t,addWeight:function(e){m(h.concat(e))}})))))},Y=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)({}),d=Object(i.a)(c,2),h=d[0],m=d[1],g=function(e){o(e)};return r.a.createElement(u.a,{basename:"/Weight-Tracker/"},r.a.createElement(l.a,{maxWidth:"sm"},r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/register",render:function(){return r.a.createElement(E,null)}}),r.a.createElement(s.b,{path:"/login",render:function(){return r.a.createElement(w,{setUserDetails:m,handleToken:g})}}),r.a.createElement(s.b,{exact:!0,path:"/weights",render:function(){return r.a.createElement(X,{userDetails:h,token:n})}}))))},Z=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ee(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(Y,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/Weight-Tracker",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/Weight-Tracker","/service-worker.js");Z?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ee(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ee(t,e)}))}}()}},[[260,1,2]]]);
//# sourceMappingURL=main.81eec418.chunk.js.map