(this["webpackJsonpweight-tracker"]=this["webpackJsonpweight-tracker"]||[]).push([[0],{251:function(e,t,n){e.exports=n(474)},256:function(e,t,n){},474:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(13),c=n.n(o),i=(n(256),n(201),n(10)),l=n(513),u=n(69),s=n(45),h=n(16),d=n.n(h),g=n(37),f=n(31),p=n.n(f),m=n(514),b=n(509),v="https://cors-anywhere.herokuapp.com/https://sleepy-reaches-36047.herokuapp.com/api",w=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)(""),l=Object(i.a)(c,2),u=l[0],h=l[1],f=Object(a.useState)(""),w=Object(i.a)(f,2),E=w[0],j=w[1],O=Object(a.useState)(""),W=Object(i.a)(O,2),k=W[0],y=W[1],x=Object(a.useState)(!1),S=Object(i.a)(x,2),C=S[0],D=S[1],A=function(){var e=Object(g.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),p.a.post(v+"/users/register",{username:n,password:u,goalWeight:E,startWeight:k}).then((function(e){console.log(e),o(""),h(""),j(""),y(""),D(!0)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return C?r.a.createElement(s.a,{to:"/login"}):r.a.createElement("form",{onSubmit:A},r.a.createElement(m.a,{id:"username",placeholder:"Username",value:n,onChange:function(e){o(e.target.value)},fullWidth:!0}),r.a.createElement(m.a,{type:"password",id:"password",placeholder:"Password",value:u,onChange:function(e){h(e.target.value)},fullWidth:!0}),r.a.createElement(m.a,{placeholder:"Start Weight",value:k,onChange:function(e){y(e.target.value)},fullWidth:!0}),r.a.createElement(m.a,{placeholder:"Goal Weight",value:E,onChange:function(e){j(e.target.value)},fullWidth:!0}),r.a.createElement(b.a,{variant:"contained",color:"primary",type:"submit"},"Register"))},E=function(e){var t=e.handleToken,n=e.setUserDetails,o=Object(a.useState)(""),c=Object(i.a)(o,2),l=c[0],u=c[1],h=Object(a.useState)(""),f=Object(i.a)(h,2),w=f[0],E=f[1],j=Object(a.useState)(!1),O=Object(i.a)(j,2),W=O[0],k=O[1],y=function(){var e=Object(g.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),p.a.post(v+"/users/login",{username:l,password:w}).then((function(e){console.log(e.data),t(e.data.token),n(e.data),u(""),E(""),k(!0)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return W?r.a.createElement(s.a,{to:"/weights"}):r.a.createElement("form",{onSubmit:y},r.a.createElement(m.a,{id:"username",placeholder:"Username",value:l,onChange:function(e){u(e.target.value)},fullWidth:!0}),r.a.createElement(m.a,{type:"password",id:"password",placeholder:"Password",value:w,onChange:function(e){E(e.target.value)},fullWidth:!0}),r.a.createElement(b.a,{variant:"contained",color:"primary",type:"submit"},"Login"))},j=n(508),O=n(510),W=n(515),k=n(511),y=n(91),x=n.n(y),S=n(26),C=n(27);function D(){var e=Object(S.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return D=function(){return e},e}C.a.div(D());var A=function(e){e.token,e.deleteWeight,e.editWeight;var t=e.weight,n=Object(a.useState)(t.weight_value),o=Object(i.a)(n,2);o[0],o[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,null,r.a.createElement(W.a,{primary:t.weight_value+" lbs",secondary:x()(t.date).format("MMM Do")})),r.a.createElement(k.a,null))},T=n(74),U=function(e){var t=e.weights,n=[];return t.forEach((function(e){var t=x()(e.date).format("MMM Do");n.push({weight:e.weight_value,date:t})})),console.log(n),r.a.createElement(T.b,{width:500,height:300,data:n,margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(T.d,{type:"number",domain:[100,300]}),r.a.createElement(T.c,{dataKey:"date"}),r.a.createElement(T.a,{type:"monotone",dataKey:"weight",stroke:"#0CCD98"}))};function M(){var e=Object(S.a)(["\n  height: 8px;\n  width: ",";\n\n  background: #0ccd98;\n  border-radius: 5px;\n"]);return M=function(){return e},e}var P=C.a.div(M(),(function(e){return e.width?e.width:0}));function R(){var e=Object(S.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return R=function(){return e},e}var _=C.a.div(R()),z=function(e){var t=e.currentWeight,n=e.userDetails;return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(_,null,r.a.createElement("div",null,r.a.createElement("p",null,"Start Weight:"),r.a.createElement("h3",null,n.startWeight+" lbs"," ")),r.a.createElement("div",null,r.a.createElement("p",null,"Current Weight:"),r.a.createElement("h2",null,t+" lbs")),r.a.createElement("div",null,r.a.createElement("p",null,"Goal Weight: "),r.a.createElement("h3",null," ",n.goalWeight+" lbs"))),r.a.createElement(P,{width:(n.startWeight-t)/(n.startWeight-n.goalWeight)*100+"%"})))},L=n(512);function N(){var e=Object(S.a)(["\n  background-color: #0ccd98;\n  border-radius: 35px;\n  box-shadow: 0 4px 6px rgba(50, 50, 93, 0.11), 0 1px 3px rgba(0, 0, 0, 0.08);\n  padding: 7px 35px;\n"]);return N=function(){return e},e}function B(){var e=Object(S.a)(["\n  display: flex;\n  justify-content: center;\n"]);return B=function(){return e},e}var G=C.a.div(B()),I=Object(C.a)(L.a)(N()),J=function(e){var t=e.token,n=e.weights,o=e.setWeights,c=e.userDetails,l=Object(a.useState)(!1),u=Object(i.a)(l,2),h=u[0],d=u[1],g=Object(a.useState)(0),f=Object(i.a)(g,2),m=f[0],b=f[1];return Object(a.useEffect)((function(){console.log(t),p.a.get(v+"/weights",{headers:{Authorization:"bearer "+t}}).then((function(e){console.log(e),o(n.concat(e.data)),b(e.data[e.data.length-1].weight_value)})).catch((function(e){console.log(e)}))}),[]),h?r.a.createElement(s.a,{to:"/weights/add"}):r.a.createElement("div",null,r.a.createElement(U,{weights:n,currentWeight:m}),r.a.createElement(z,{userDetails:c,currentWeight:m}),r.a.createElement(j.a,null,n.reverse().map((function(e){return r.a.createElement(A,{weight:e,token:t})}))),r.a.createElement(G,null,r.a.createElement(I,{onClick:function(){d(!0)},variant:"extended",size:"medium",color:"primary","aria-label":"add"},"New Weight")))},K=n(94),F=n.n(K);function $(){var e=Object(S.a)(["\n  background-color: #17ffd8;\n  color: #fe545d;\n  border-radius: 35px;\n  box-shadow: 0 4px 6px rgba(50, 50, 93, 0.11), 0 1px 3px rgba(0, 0, 0, 0.08);\n  padding: 7px 35px;\n"]);return $=function(){return e},e}var q=Object(C.a)(b.a)($());function H(){var e=Object(S.a)(["\n  background: #212121;\n  color: white;\n"]);return H=function(){return e},e}Object(C.a)(F.a)(H());var Q=function(e){var t=e.token,n=e.addWeight,o=Object(a.useState)(0),c=Object(i.a)(o,2),l=c[0],u=c[1],s=Object(a.useState)(new Date),h=Object(i.a)(s,2),f=h[0],b=h[1],w=function(){var e=Object(g.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),p.a.post(v+"/weights",{weight:l,date:f},{headers:{Authorization:"bearer "+t}}).then((function(e){console.log(e),n(e.data)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(F.a,{onChange:function(e){b(e),console.log(e)},value:f}),r.a.createElement("form",{onSubmit:w},r.a.createElement(m.a,{InputProps:{style:{color:"white"}},onChange:function(e){u(e.target.value)},value:l}),r.a.createElement(q,{type:"submit"}," Save")))},V=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)([]),h=Object(i.a)(c,2),d=h[0],g=h[1],f=Object(a.useState)({}),p=Object(i.a)(f,2),m=p[0],b=p[1],v=function(e){g(d.concat(e))},j=function(e){o(e)};return r.a.createElement(u.a,{basename:"/Weight-Tracker/"},r.a.createElement(l.a,{maxWidth:"sm"},r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/register",render:function(){return r.a.createElement(w,null)}}),r.a.createElement(s.b,{path:"/login",render:function(){return r.a.createElement(E,{setUserDetails:b,handleToken:j})}}),r.a.createElement(s.b,{exact:!0,path:"/weights",render:function(){return r.a.createElement(J,{userDetails:m,weights:d,token:n,setWeights:g})}}),r.a.createElement(s.b,{exact:!0,path:"/weights/add",render:function(){return r.a.createElement(Q,{weights:d,token:n,addWeight:v})}}))))},X=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Y(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(V,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/Weight-Tracker",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/Weight-Tracker","/service-worker.js");X?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Y(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Y(t,e)}))}}()}},[[251,1,2]]]);
//# sourceMappingURL=main.3a5f2c1f.chunk.js.map